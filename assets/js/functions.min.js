function atualizarClasseInput(dir){value=$("input_"+dir).value,0===value.length||1===value.length?$("input_"+dir).className="chars_1 form-control form-control-sm":2==value.length?$("input_"+dir).className="chars_2 form-control form-control-sm":3==value.length?$("input_"+dir).className="chars_3 form-control form-control-sm":4==value.length?$("input_"+dir).className="chars_4 form-control form-control-sm":$("input_"+dir).className=""}function atualizarOpcoes(){options.css3=$("opt_css3").checked,options.webkit=$("opt_webkit").checked,options.gecko=$("opt_gecko").checked}function gerarCodigo(option,master,tl_radius,tr_radius,br_radius,bl_radius){var radii=[tl_radius,tr_radius,br_radius,bl_radius],code_short="",code_tl="",code_tr="",code_br="",code_bl="";if("css3"==option)var declaration_short="---css3--- \n border-radius: ",declaration_tl="border-top-left-radius: ",declaration_tr="border-top-right-radius: ",declaration_br="border-bottom-right-radius: ",declaration_bl="border-bottom-left-radius: ";else if("webkit"==option)var declaration_short="---webkit--- \n -webkit-border-radius: ",declaration_tl="-webkit-border-top-left-radius: ",declaration_tr="-webkit-border-top-right-radius: ",declaration_br="-webkit-border-bottom-right-radius: ",declaration_bl="-webkit-border-bottom-left-radius: ";else if("gecko"==option)var declaration_short="---gecko--- \n -moz-border-radius: ",declaration_tl="-moz-border-radius-topleft: ",declaration_tr="-moz-border-radius-topright: ",declaration_br="-moz-border-radius-bottomright: ",declaration_bl="-moz-border-radius-bottomleft: ";if(tl_radius||tr_radius||bl_radius||br_radius)if(1===radii.uniq().length)master_radius=radii.uniq().reduce(),0!=master_radius&&(code_short+=declaration_short+master_radius+"px;\n");else if(2==radii.uniq().length){var non_master_radius=radii.without(master_radius),non_master_radius_count=non_master_radius.size();non_master_radius=non_master_radius.uniq().reduce(),1===non_master_radius_count?(0!=master_radius&&(code_short+=declaration_short+master_radius+(0==master_radius?"":"px")+";\n"),tl_radius&&tl_radius!=master_radius&&(code_tl+=declaration_tl+tl_radius+(0==tl_radius?"":"px")+";\n"),tr_radius&&tr_radius!=master_radius&&(code_tr+=declaration_tr+tr_radius+(0==tr_radius?"":"px")+";\n"),br_radius&&br_radius!=master_radius&&(code_br+=declaration_br+br_radius+(0==br_radius?"":"px")+";\n"),bl_radius&&bl_radius!=master_radius&&(code_bl+=declaration_bl+bl_radius+(0==bl_radius?"":"px")+";\n")):2==non_master_radius_count?0==non_master_radius?(tl_radius&&0!=tl_radius&&(code_tl+=declaration_tl+master_radius+(0==master_radius?"":"px")+";\n"),tr_radius&&0!=tr_radius&&(code_tr+=declaration_tr+master_radius+(0==master_radius?"":"px")+";\n"),br_radius&&0!=br_radius&&(code_br+=declaration_br+master_radius+(0==master_radius?"":"px")+";\n"),bl_radius&&0!=bl_radius&&(code_bl+=declaration_bl+master_radius+(0==master_radius?"":"px")+";\n")):(0!=master_radius&&(code_short+=declaration_short+master_radius+(0==master_radius?"":"px")+";\n"),tl_radius&&tl_radius!=master_radius&&(code_tl+=declaration_tl+tl_radius+(0==tl_radius?"":"px")+";\n"),tr_radius&&tr_radius!=master_radius&&(code_tr+=declaration_tr+tr_radius+(0==tr_radius?"":"px")+";\n"),br_radius&&br_radius!=master_radius&&(code_br+=declaration_br+br_radius+(0==br_radius?"":"px")+";\n"),bl_radius&&bl_radius!=master_radius&&(code_bl+=declaration_bl+bl_radius+(0==bl_radius?"":"px")+";\n")):3==non_master_radius_count&&(0==non_master_radius?(0!=tl_radius&&(code_tl+=declaration_tl+tl_radius+(0==tl_radius?"":"px")+";\n"),0!=tr_radius&&(code_tr+=declaration_tr+tr_radius+(0==tr_radius?"":"px")+";\n"),0!=br_radius&&(code_br+=declaration_br+br_radius+(0==br_radius?"":"px")+";\n"),0!=bl_radius&&(code_bl+=declaration_bl+bl_radius+(0==bl_radius?"":"px")+";\n")):(0!=non_master_radius&&(code_short+=declaration_short+non_master_radius+(0==non_master_radius?"":"px")+";\n"),console.log(tl_radius),tl_radius&&tl_radius!=non_master_radius&&(code_tl+=declaration_tl+tl_radius+(0==tl_radius?"":"px")+";\n"),tr_radius&&tr_radius!=non_master_radius&&(code_tr+=declaration_tr+tr_radius+(0==tr_radius?"":"px")+";\n"),br_radius&&br_radius!=non_master_radius&&(code_br+=declaration_br+br_radius+(0==br_radius?"":"px")+";\n"),bl_radius&&bl_radius!=non_master_radius&&(code_bl+=declaration_bl+bl_radius+(0==bl_radius?"":"px")+";\n")))}else 3!=radii.compact().uniq().length&&4!=radii.compact().uniq().length||(console.log(tl_radius),tl_radius&&0!=tl_radius&&(code_tl+=declaration_tl+tl_radius+(0==tl_radius?"":"px")+";\n"),tr_radius&&0!=tr_radius&&(code_tr+=declaration_tr+tr_radius+(0==tr_radius?"":"px")+";\n"),br_radius&&0!=br_radius&&(code_br+=declaration_br+br_radius+(0==br_radius?"":"px")+";\n"),bl_radius&&0!=bl_radius&&(code_bl+=declaration_bl+bl_radius+(0==bl_radius?"":"px")+";\n"));return code_short+code_tl+code_tr+code_br+code_bl}function atalizarTextArea(){var tl_radius=$("input_tl").value.strip(),tr_radius=$("input_tr").value.strip(),br_radius=$("input_br").value.strip(),bl_radius=$("input_bl").value.strip();master_radius=master_radius.strip();var code="";options.webkit&&(code+=gerarCodigo("webkit",master_radius,tl_radius,tr_radius,br_radius,bl_radius)+"---\\webkit--- \n"),options.gecko&&(code+=gerarCodigo("gecko",master_radius,tl_radius,tr_radius,br_radius,bl_radius)+"---\\gecko--- \n"),options.css3&&(code+=gerarCodigo("css3",master_radius,tl_radius,tr_radius,br_radius,bl_radius)+"---\\css3--- \n"),$("code").value=code.strip()}function aplicarRadio(){var tl_radius=$("input_tl").value>125?125:$("input_tl").value?$("input_tl").value.strip():0,tr_radius=$("input_tr").value>125?125:$("input_tr").value?$("input_tr").value.strip():0,br_radius=$("input_br").value>125?125:$("input_br").value?$("input_br").value.strip():0,bl_radius=$("input_bl").value>125?125:$("input_bl").value?$("input_bl").value.strip():0;console.log(tl_radius.toString().includes("%")?tr_radius:tr_radius+"px"),"undefined"!=$("surface").style.borderTopLeftRadius&&($("surface").style.borderTopLeftRadius=tl_radius.toString().includes("%")?tl_radius:tl_radius+"px",$("surface").style.borderTopRightRadius=tr_radius.toString().includes("%")?tr_radius:tr_radius+"px",$("surface").style.borderBottomRightRadius=br_radius.toString().includes("%")?br_radius:br_radius+"px",$("surface").style.borderBottomLeftRadius=bl_radius.toString().includes("%")?bl_radius:bl_radius+"px"),"undefined"!=$("surface").style.WebkitBorderTopLeftRadius&&($("surface").style.WebkitBorderTopLeftRadius=tl_radius.toString().includes("%")?tl_radius:tl_radius+"px",$("surface").style.WebkitBorderTopRightRadius=tr_radius.toString().includes("%")?tr_radius:tr_radius+"px",$("surface").style.WebkitBorderBottomRightRadius=br_radius.toString().includes("%")?br_radius:br_radius+"px",$("surface").style.WebkitBorderBottomLeftRadius=bl_radius.toString().includes("%")?bl_radius:bl_radius+"px"),"undefined"!=$("surface").style.MozBorderRadiusTopright&&($("surface").style.MozBorderRadiusTopleft=tl_radius.toString().includes("%")?tl_radius:tl_radius+"px",$("surface").style.MozBorderRadiusTopright=tr_radius.toString().includes("%")?tr_radius:tr_radius+"px",$("surface").style.MozBorderRadiusBottomright=br_radius.toString().includes("%")?br_radius:br_radius+"px",$("surface").style.MozBorderRadiusBottomleft=bl_radius.toString().includes("%")?bl_radius:bl_radius+"px")}function observe_input_value(dir,value){master_dir||(master_dir=dir,master_radius=$("input_"+master_dir).value),dir==master_dir?(master_radius=$("input_"+master_dir).value,"tl"!=master_dir&&is_master_radius.tl&&($("input_tl").value=master_radius),"tr"!=master_dir&&is_master_radius.tr&&($("input_tr").value=master_radius),"br"!=master_dir&&is_master_radius.br&&($("input_br").value=master_radius),"bl"!=master_dir&&is_master_radius.bl&&($("input_bl").value=master_radius)):value!=master_radius&&(is_master_radius[dir]=!1),atualizarClasseInput("tl"),atualizarClasseInput("tr"),atualizarClasseInput("br"),atualizarClasseInput("bl"),atalizarTextArea(),aplicarRadio()}function observarKeydownInput(e,dir){var code=e.charCode?e.charCode:e.keyCode,increment=e.shiftKey?10:1;code==Event.KEY_UP?$("input_"+dir).value=parseInt($("input_"+dir).value)+increment:code==Event.KEY_DOWN&&(parseInt($("input_"+dir).value)-increment>=0?$("input_"+dir).value=parseInt($("input_"+dir).value)-increment:$("input_"+dir).value=0)}function observe_input_keypress(e){var code=e.charCode?e.charCode:e.keyCode;return!(!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||46==code)&&code>31&&(code<48||code>57))}function observe_option(opt,checked){atualizarOpcoes(),master_radius&&atalizarTextArea()}function focus_textarea(){$("code").activate(),setTimeout("$('code').activate()",100)}new Form.Element.Observer("input_tl",.15,(function(el,value){observe_input_value("tl",value)})),new Form.Element.Observer("input_tr",.15,(function(el,value){observe_input_value("tr",value)})),new Form.Element.Observer("input_bl",.15,(function(el,value){observe_input_value("bl",value)})),new Form.Element.Observer("input_br",.15,(function(el,value){observe_input_value("br",value)})),$("input_tl").observe("keydown",(function(e){observarKeydownInput(e,"tl")})),$("input_tr").observe("keydown",(function(e){observarKeydownInput(e,"tr")})),$("input_bl").observe("keydown",(function(e){observarKeydownInput(e,"bl")})),$("input_br").observe("keydown",(function(e){observarKeydownInput(e,"br")})),$("input_tl").observe("click",(function(e){$("input_tl").activate()})),$("input_tr").observe("click",(function(e){$("input_tr").activate()})),$("input_bl").observe("click",(function(e){$("input_bl").activate()})),$("input_br").observe("click",(function(e){$("input_br").activate()})),new Form.Element.Observer("opt_css3",.15,(function(el){observe_option("css3",el.checked)})),new Form.Element.Observer("opt_webkit",.15,(function(el){observe_option("webkit",el.checked)})),new Form.Element.Observer("opt_gecko",.15,(function(el){observe_option("gecko",el.checked)}));